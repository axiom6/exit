
# Organization and Class Responsibilities 

This document descibes how all the code is organized and how third party libraies are accessed.

# Bower Repository in bower_exit_now

At present for the ease of distruting to non developers the bower_component repository has 
been copied into GitHub repo under the bower_exit_now directory. To point back to bower_components all
that is needed is to download the bower_component with bower.json and change "bower_exit_now" to "bower_components"
in App.html. So for development we use bower to fully manage third party updates

## Dependencies
* jQuery
* jQuery.gritter
* rxjs
* rxjs-jquery
* d3
* font-awesome
* weather-icons

# Dev Dependencies
* coffeescript
* less
* jasmine

# HTML

## App.html

* Loads all CSS and Fonts by link tags
* Loads all third party JavaScript from Bower repositories by script tags
* Loads all Exit Now JavaScript source code (21 files) by script tags
* Has only a body with an App div tag. All other HTML is generated by CoffeeScript in the by UI components

## Third Party CSS, Icons and Fonts from Bower repository

* app.gritter.css for popup deals. Refactored from original griiter.css for embedded HTML
* Font Awesome Icons
* Weather Icons
* Droid Sans
* Open Sans Condensed

# App.less / css

* The primary CSS at about a hundred lines
* Makes judicious use of absolute postioning in percentages
* Naming convention has a direct correspondence to UI components 

# JavaScript Source Code Design and Organization 

The 21 files of JavaScript are organized into two categories App and UI with two folders /app /ui

## /app 9 files

### App.coffee

#### Primary Responsibilities

  - Imports all classes into its namespace
  - Instanciates all objects and injects itself, Stream and dependencies via constructor arguments
  - Issues ready() calls to all UI object to generation the HTML
  - Issues position() for additional positioning after HTML generations
  
#### Secondary Responsibilities
 
  - Instanciated by onReady status
  - Maintains destination, direction, eta and recommentation status
  - Governs the running of demos, rest, retries, simulations and tests specied by arguments passed into its constructor
  
### Stream.coffee

* Wraps RxJS with 

### Rest.coffee

* xx
* Pipes all GETs though a single jQuery.ajax( setting ) method
* In retry 

### Data.coffee

* Static JavaScript objects for demos and repeatable unit testing data sets

### Model.coffee

* Manages all Rest calls
* Handles the combine completion status of simutaneous GET queries
* Delays pushing Stream publishing until all GETs  are complete 

### Simulate.coffee

  - Simulates I-70 drives by publishing at series of cell phone lat lon location 
  
### Test

  - Runs unit tests in Jasmine
  
### Util.coffee
 
  - A set of static class methods for class export and import and logging
  - Accessed via a Util global variable 
  
* Visual.coffee
* 
  - A set of static class methods for D3 visualization
  - Accessed via a Visual global variable 

## /ui 12 files Classes correspond to Pages

### Aggregate Pages

* UI.coffee   with Desitination Go, NoGo Trip, Deals and Navigate pages
* Trip.coffee with Road Weather and Advisory components 

### Single Pages 
* Destination
* Go
* NoGo
* Trip
* Deals
* Navigate - not imlemented yet

### Page Components
* Road with Drive Bar
* Weather
* Advisory - not implemented yet
* Threshold - not implement yet 

### Canonical Methods for UI Pages classes
- constructor:( args... ) 
- ready:() 
- postReady:()
- layout:( orientation )
- show:()
- hide:()
- publish:()
- subscript:()







                           'Segments','Deals','Conditions',
                           'RequestSegmentBy','RequestConditionsBy','RequestDealsBy']


## Dependencies
* jQuery
* jQuery.gritter
* rxjs
* rxjs-jquery
* d3
* font-awesome
* weather-icons

# Dev Dependencies
* coffeescript
* less
* jasmine


 